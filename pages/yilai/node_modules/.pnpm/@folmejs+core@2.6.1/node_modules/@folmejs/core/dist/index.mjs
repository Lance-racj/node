var ge=Object.defineProperty,be=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var W=(t,e,n)=>e in t?ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h=(t,e)=>{for(var n in e||(e={}))ye.call(e,n)&&W(t,n,e[n]);if($)for(var n of $(e))xe.call(e,n)&&W(t,n,e[n]);return t},z=(t,e)=>be(t,he(e));var v=[];typeof window!="undefined"&&(window.FOLME_EVENT_BUS||(window.FOLME_EVENT_BUS=[]),v=window.FOLME_EVENT_BUS);var Me=typeof window!="undefined"?window.requestAnimationFrame:t=>setTimeout(t,16),N=!1;function L(t){v.push(t),ee()}function G(t){let e=v.indexOf(t);e>=0&&(v[e]=null)}function Te(){let t=v.length;for(let e=0;e<t;e++){let n=v[e];n&&n()}v.splice(0,t),N=!1,v.length&&ee()}function ee(){N||(N=!0,Me(Te))}function A(){let t=!1,e=0,n,o=1/30;function u(){if(t){let m=Date.now(),p=(m-e)/1e3;n&&n(Math.min(o,p)),e=m,L(u)}}function r(){t||(e=Date.now(),t=!0,u())}function i(){t=!1,G(u)}function a(m){n=m}return{start:r,stop:i,listen:a}}var H=[],U=[],R=!1;function Ve(t){H.push(t),B()}function te(t){U.push(t),B()}function ne(t){for(let e=0;e<t.length;e++)t[e]();t.splice(0,t.length)}function Ee(){let t;try{ne(H),ne(U)}catch(e){t=e,console.error(e)}if(R=!1,(H.length||U.length)&&B(),t)throw t}function B(){R||(R=!0,L(Ee))}var E=Array(),q=A();q.listen(Oe);function Oe(t){let e=[];for(let n=0;n<E.length;n++){let o=E[n];o&&(o.delay>0?(o.delay-=t,e.push(o)):(o.event(),E[n]=null))}E=e,E.length||q.stop()}function oe(t,e,n){E.push({identity:n,delay:e,event:t}),q.start()}function Q(t){for(let e=0;e<E.length;e++){let n=E[e];n&&t(n.identity)&&(E[e]=null)}}function re(t){let e=[];for(let n=0;n<E.length;n++){let o=E[n];o&&t(o.identity)&&e.push(E[n])}return e}var ve=["rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY","translateX","translateY","translateZ"];function ie(t,e){let n={},o="";for(let u in e){let r=e[u];ve.includes(u)?o+=`${u}(${r}) `:n[u]=r,o&&(n.transform=o)}te(function(){for(let r in n)t.style[r]=n[r]})}function C(t=.9,e=.3){let n=1,o=(r,i,a)=>4*Math.PI*r*a/i,u=(r,i)=>Math.pow(2*Math.PI/r,2)*i;return function({target:i,value:a,velocity:m,deltaTime:p}){let y=o(t,e,n),F=u(e,n);m*=1-y*p,m+=F*(i-a)*p,a+=m*p;let d=Math.abs(m)<=D&&Math.abs(a-i)<le;return d&&(m=0,a=i),{velocity:m,value:a,isFinished:d}}}function Y(t=1/2.1){if(t<=0||t>=1)throw new Error("Friction deceleration rate must between 0 and 1");return function({startVelocity:n,time:o,startValue:u}){let r=n*Math.pow(t,o),i=u+n*(Math.pow(t,o)-1)/Math.log(t),a=Math.abs(r)<=D;return a&&(r=0),{velocity:r,value:i,isFinished:a}}}function ue(t,e,n=1/2.1){return t+e*n/1-n}function ae(t,e,n){return Math.exp(n/(e-t))}function c(t,e){return({startValue:n,target:o,time:u})=>{let r=u>=t-.01;return{value:r?o:n+(o-n)*e(u/t),velocity:0,isFinished:r}}}function et(t=.3){return c(t,e=>e)}function tt(t=.3){let e=1.70158,n=e+1;return c(t,o=>n*o*o*o-e*o*o)}function nt(t=.3){let e=1.70158,n=e+1;return c(t,o=>1+n*Math.pow(o-1,3)+e*Math.pow(o-1,2))}function ot(t=.3){let n=1.70158*1.525;return c(t,o=>o<.5?Math.pow(2*o,2)*((n+1)*2*o-n)/2:(Math.pow(2*o-2,2)*((n+1)*(o*2-2)+n)+2)/2)}function j(t){return t<1/2.75?7.5625*t*t:t<2/2.75?.75+7.5625*Math.pow(t-1.5/2.75,2):t<2.5/2.75?.9375+7.5625*Math.pow(t-2.25/2.75,2):.984375+7.5625*Math.pow(t-2.625/2.75,2)}function se(t){return 1-j(1-t)}function rt(t=.3){return c(t,e=>se(e))}function it(t=.3){return c(t,e=>j(e))}function lt(t=.3){return c(t,e=>e<.5?.5*se(e*2):.5*j(e*2-1)+.5)}function ut(t=.3){return c(t,e=>1-Math.sqrt(1-Math.pow(e,2)))}function at(t=.3){return c(t,e=>Math.sqrt(1-Math.pow(e-1,2)))}function st(t=.3){return c(t,e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2)}function ct(t=.3){return c(t,e=>e*e*e)}function mt(t=.3){return c(t,e=>1-Math.pow(1-e,3))}function ft(t=.3){return c(t,e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2)}function pt(t=.3){let e=2*Math.PI/3;return c(t,n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*e))}function dt(t=.3){let e=2*Math.PI/3;return c(t,n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*e)+1)}function Ft(t=.3){let e=2*Math.PI/4.5;return c(t,n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*e))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*e)/2+1)}function gt(t=.3){return c(t,e=>e===0?0:Math.pow(2,10*e-10))}function bt(t=.3){return c(t,e=>e===1?1:1-Math.pow(2,-10*e))}function ht(t=.3){return c(t,e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2)}function yt(t=.3){return c(t,e=>e*e)}function xt(t=.3){return c(t,e=>-e*(e-2))}function Mt(t=.3){return c(t,e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2)}function Tt(t=.3){return c(t,e=>e*e*e*e)}function Et(t=.3){return c(t,e=>1-Math.pow(1-e,4))}function Ot(t=.3){return c(t,e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2)}function vt(t=.3){return c(t,e=>e*e*e*e*e)}function wt(t=.3){return c(t,e=>e*e*e*e)}function It(t=.3){return c(t,e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2)}function Pt(t=.3){return c(t,e=>1-Math.cos(e*(Math.PI/2)))}function Ct(t=.3){return c(t,e=>Math.sin(e*(Math.PI/2)))}function St(t=.3){return c(t,e=>-(Math.cos(Math.PI*e)-1)/2)}function _t(t=.3,e=.95,n=.6){let o=-1,u=o,r=1,i=Math.pow(2*Math.PI/n,2)*r,a=4*Math.PI*e*r/n,m=Math.sqrt(4*r*i-a*a)/(2*r),p=-(a/2)*r,y=(0-p*o)/m;return c(t,F=>Math.pow(Math.E,p*F)*(u*Math.cos(m*F)+y*Math.sin(m*F))+1)}function kt(t=.3,e=1){return c(t,n=>e===1?1-(1-n)*(1-n):1-Math.pow(1-n,2*e))}function Lt(t=.3,e=1){return c(t,n=>e===1?n*n:Math.pow(n,2*e))}function At(t=.3){return c(t,e=>Math.cos((e+1)*Math.PI)/2+.5)}function Dt(t=.3){let e=n=>n*n*8;return c(t,n=>(n*=1.1226,n<.3535?e(n):n<.7408?e(n-.54719)+.7:n<.9644?e(n-.8526)+.9:e(n-1.0435)+.95))}var D=.001,le=.001;var we={name:"",value:0,target:0,velocity:0,time:0,startValue:0,startVelocity:0,easing:C(),isFinished:!0,isPaused:!1,unit:""},Ie=/^(-?[\d+\.\-]+)([a-z]+|%)$/i;function V(){let t=new Array;function e(l){if(typeof l=="number")return{value:l,unit:""};{l=l.toString();let s=Ie.exec(l)||[];return{value:parseFloat(s[1]||l),unit:s[2]||""}}}function n(l){return t.find(s=>s.name===l)}function o(l,s,M=!0){let T=t.findIndex(f=>f.name===l),b=h({},s);if(typeof s.current!="undefined"){let{value:f,unit:g}=e(s.current);isNaN(f)||(b.value=f),g&&(b.unit=g)}if(typeof s.target!="undefined"){let{value:f,unit:g}=e(s.target);isNaN(f)||(b.target=f),g&&(b.unit=g)}let x;T>-1?(x=h(h({},t[T]),b),t[T]=x):(x=h(z(h({},we),{name:l}),b),t.push(x)),x.time=0,x.startVelocity=x.velocity,x.startValue=x.value,M&&y(),r&&r(t)}function u(l){if(l===void 0)t=[];else{let s=t.findIndex(M=>M.name===l);s>-1&&t.splice(s,1)}}let r,i;function a(l){r=l}function m(l){i=l}let p=A();function y(){p.start()}function F(){p.stop()}function d(l){let s=!0,M=!0;for(let T=0;T<t.length;T++){let b=t[T];if(!b.isPaused){let x=b.easing(h({deltaTime:l},b));b.time+=l,b.value=x.value,b.velocity=x.velocity,b.isFinished=x.isFinished,s=s&&b.isFinished,M=!1}}(s||M)&&F(),s&&l>0&&i&&i(t),r&&r(t)}return p.listen(d),{get:n,set:o,del:u,start:y,stop:F,onUpdate:a,onStop:m}}function ce(t){return Array.isArray(t)||!!t&&typeof t=="object"&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}function X(t,e){let n={};for(let o of e){let u=t[o];typeof u!="undefined"&&(n[o]=u)}return n}function K(t,e,n){return Math.min(Math.max(t,e),n)}function me(t,e){return e.reduce((n,o)=>Math.abs(o-t)<Math.abs(n-t)?o:n)}var fe=["delay","value","velocity"],Pe={delay:0,easing:C()},Z=new Map;function pe(t){let e=[];t?typeof t=="string"?e=Array.from(document.querySelectorAll(t)):ce(t)?e=Array.from(t):e=[t]:e=[];let n=[];for(let o=0;o<e.length;o++){let u=e[o];(!(u instanceof HTMLElement)||u.isConnected)&&n.push(u)}return e=n,e.length||console.warn("[Folme] Target is not valid."),e}function de(t){return Z.get(t)||Z.set(t,V()),Z.get(t)}function Ce(t,e,n,o,u){if(typeof t=="function"){let r=t,i=n.get(e);if(i)return r(o,u,i)}else return t}function Fe(t,e,n,o){n=h(h({},Pe),n);let u=pe(t);for(let r=0;r<u.length;r++){let i=u[r],a=de(i),{onUpdate:m,onFinish:p,onStop:y}=n;a.onUpdate(function(d){if(i instanceof HTMLElement){let l={};for(let s of d)l[s.name]=s.value+s.unit;ie(i,l)}else for(let l of d)i[l.name]=l.unit?l.value+l.unit:l.value;m&&m(i,d)}),a.onStop(function(d){p&&re(s=>s.target===i).length===0&&p(i,d),y&&y(i,d)});for(let F in e){let d=e[F],l=h({},n);typeof d!="object"?l.value=d:l=h(h({},l),d);for(let M=0;M<fe.length;M++){let T=fe[M],b=l[T];typeof b!="undefined"&&(l[T]=Ce(b,F,a,r,i))}let s=l;s.delay>0?oe(function(){o(i,a,F,s)},s.delay,{target:i,propName:F}):o(i,a,F,s)}}}function Gt(t,e,n={}){return new Promise((o,u)=>{try{let r=n.onFinish;n.onFinish=function(a,m){r&&r(a,m),o({target:a,states:m})},Fe(t,e,n,function(a,m,p,y){var l,s;let F=!(a instanceof HTMLElement),d;typeof((l=y.from)==null?void 0:l[p])!="undefined"?d=(s=y.from)==null?void 0:s[p]:F?d=t[p]:m.get(p)?d=void 0:d=y.value,m.set(p,h({current:d,target:y.value,isPaused:!1},X(y,["easing","velocity"])))})}catch(r){u(r)}})}function en(t,e,n={}){Fe(t,e,n,function(u,r,i,a){r.set(i,h({current:a.value,target:a.value,isPaused:!1},X(a,["easing","velocity"])))})}function tn(t,e){let n=pe(t);for(let o=0;o<n.length;o++){let u=n[o],r=de(u);if(!e)r.stop(),Q(i=>i.target===u);else for(let i=0;i<e.length;i++){let a=e[i];Q(m=>m.target===u&&m.propName===a),r.set(a,{isPaused:!0})}}}var Se={min:0,max:0,coeff:.55,dim:812,anchors:[],spring:C(1,.55),frictionRate:1/2.1,scrollToHandlerEnabled:!1,scrollToTarget:0},J="scroll";function an(t){let e=h(h({},Se),t),n=e.min,o=0,u=!1,r=!1,i=n,a;function m(){a&&a({scroll:n,velocity:o,isDragging:u})}let p=V();p.onUpdate(function(g){let O=g[0];n=O.value,i=O.value,o=O.velocity,d()&&!r&&(r=!0,s(l())),m()});function y(f){e=h(h({},e),f),d()&&s(l(),!0)}function F(f,g=!1){let{coeff:O,dim:I,min:S,max:k}=e,w=K(f,S,k),P=Math.abs(f-w),_=w>f?-1:1;return w+_*(g?I*P/(O*(I-P)):(1-1/(P*O/I+1))*I)}function d(){let{max:f,min:g}=e;return n<g||n>f}function l(){let{max:f,min:g}=e;return K(n,g,f)}function s(f,g=!1){p.set(J,{target:f,current:g?f:n,velocity:g?0:o,easing:e.spring})}function M(f,g){u=!0,r=!1,p.stop(),n=F(F(i,!0)+f),o=g,m()}function T(f){if(u=!1,i=n,o=f,d())s(l());else{let{anchors:g,min:O,max:I,frictionRate:S}=e,k=typeof S=="number"?S:S(o),w=ue(n,o,k);if(g.length&&w>=O&&w<=I){let P=me(w,g),_=ae(P,n,o);_<=0||_>=1||Math.abs(o)<500?s(P):p.set(J,{current:n,velocity:f,easing:Y(_)})}else p.set(J,{current:n,velocity:f,easing:Y(k)})}}function b(f){a=f}function x(){a=null}return{drag:M,drop:T,onChange:b,setting:y,scrollTo:s,destroy:x}}export{le as MIN_VALUE,D as MIN_VELOCITY,At as accDecNative,Lt as accNative,tt as backIn,ot as backInOut,nt as backOut,rt as bounceIn,lt as bounceInOut,Dt as bounceNative,it as bounceOut,tn as cancel,ut as circIn,st as circInOut,at as circOut,V as createCore,an as createScrollModel,A as createTimer,ct as cubicIn,ft as cubicInOut,mt as cubicOut,kt as decNative,c as defineTweenFunction,Q as deleteFromDelayQueue,G as deleteFromEventBus,pt as elasticIn,Ft as elasticInOut,dt as elasticOut,gt as expoIn,ht as expoInOut,bt as expoOut,Y as friction,re as getDelayEvents,ue as getFrictionFinalValue,ae as getFrictionRate,et as linear,Ve as measureDom,te as mutateDom,oe as pushToDelayQueue,L as pushToEventBus,yt as quadIn,Mt as quadInOut,xt as quadOut,Tt as quartIn,Ot as quartInOut,Et as quartOut,vt as quintIn,It as quintInOut,wt as quintOut,en as set,ie as setStyle,Pt as sinIn,St as sinInOut,Ct as sinOut,C as spring,_t as springNative,Gt as to};
