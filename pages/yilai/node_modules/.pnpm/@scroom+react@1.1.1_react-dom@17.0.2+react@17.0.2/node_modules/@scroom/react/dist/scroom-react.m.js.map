{"version":3,"file":"scroom-react.m.js","sources":["../lib/use-scroom.ts","../lib/use-debug.ts"],"sourcesContent":["import { RefObject, useEffect, useState } from \"react\";\nimport {\n  ScroomInstance,\n  CreateScroomOptions,\n  createScroom,\n  ScroomEventMap,\n} from \"scroom\";\n\nexport type UseScroomOptions<T extends Element> = Omit<\n  CreateScroomOptions<T>,\n  \"target\"\n> & {\n  onProgress?: (e: ScroomEventMap<T>[\"progress\"]) => void;\n  onEnter?: (e: ScroomEventMap<T>[\"enter\"]) => void;\n  onLeave?: (e: ScroomEventMap<T>[\"leave\"]) => void;\n  onDebug?: (e: ScroomEventMap<T>[\"debug\"]) => void;\n};\n\nexport function useScroom<T extends Element>(\n  ref: RefObject<T>,\n  options: UseScroomOptions<T> = {}\n) {\n  const [sc, setSc] = useState<ScroomInstance<T> | null>(null);\n\n  useEffect(() => {\n    const target = ref.current;\n    if (target) {\n      const newSc = createScroom({\n        target,\n        ...options,\n      });\n      setSc(newSc);\n\n      const { onEnter, onLeave, onProgress, onDebug } = options;\n\n      if (onEnter) {\n        newSc.on(\"enter\", onEnter);\n      }\n\n      if (onLeave) {\n        newSc.on(\"leave\", onLeave);\n      }\n\n      if (onProgress) {\n        newSc.on(\"progress\", onProgress);\n      }\n\n      if (onDebug) {\n        newSc.on(\"debug\", onDebug);\n      }\n\n      return () => {\n        newSc.destroy();\n      };\n    }\n  }, [ref, options.direction, options.offset, options.threshold]);\n\n  return sc;\n}\n","import { useEffect } from \"react\";\nimport { debug, ScroomInstance } from \"scroom\";\n\nexport function useDebug<T extends Element>(\n  sc: ScroomInstance<T> | null,\n  id?: string\n) {\n  useEffect(() => {\n    if (sc) {\n      const controller = debug(sc, id);\n      return () => {\n        controller.destroy();\n      };\n    }\n  }, [sc, id]);\n}\n"],"names":["useScroom","ref","options","useState","sc","setSc","useEffect","target","current","newSc","createScroom","onEnter","onLeave","onProgress","onDebug","on","destroy","direction","offset","threshold","useDebug","id","controller","debug"],"mappings":";;;;;;;;;;;;;;;;;;;;;SAkBgBA,UACdC,KACAC;MAAAA;AAAAA,IAAAA,UAA+B;;;kBAEXC,QAAQ,CAA2B,IAA3B;MAArBC;MAAIC;;AAEXC,EAAAA,SAAS,CAAC;AACR,QAAMC,MAAM,GAAGN,GAAG,CAACO,OAAnB;;AACA,QAAID,MAAJ,EAAY;AACV,UAAME,KAAK,GAAGC,YAAY;AACxBH,QAAAA,MAAM,EAANA;AADwB,SAErBL,OAFqB,EAA1B;AAIAG,MAAAA,KAAK,CAACI,KAAD,CAAL;AALU,qBAOwCP,OAPxC;AAAA,UAOFS,OAPE,YAOFA,OAPE;AAAA,UAOOC,OAPP,YAOOA,OAPP;AAAA,UAOgBC,UAPhB,YAOgBA,UAPhB;AAAA,UAO4BC,OAP5B,YAO4BA,OAP5B;;AASV,UAAIH,OAAJ,EAAa;AACXF,QAAAA,KAAK,CAACM,EAAN,CAAS,OAAT,EAAkBJ,OAAlB;AACD;;AAED,UAAIC,OAAJ,EAAa;AACXH,QAAAA,KAAK,CAACM,EAAN,CAAS,OAAT,EAAkBH,OAAlB;AACD;;AAED,UAAIC,UAAJ,EAAgB;AACdJ,QAAAA,KAAK,CAACM,EAAN,CAAS,UAAT,EAAqBF,UAArB;AACD;;AAED,UAAIC,OAAJ,EAAa;AACXL,QAAAA,KAAK,CAACM,EAAN,CAAS,OAAT,EAAkBD,OAAlB;AACD;;AAED,aAAO;AACLL,QAAAA,KAAK,CAACO,OAAN;AACD,OAFD;AAGD;AACF,GA/BQ,EA+BN,CAACf,GAAD,EAAMC,OAAO,CAACe,SAAd,EAAyBf,OAAO,CAACgB,MAAjC,EAAyChB,OAAO,CAACiB,SAAjD,CA/BM,CAAT;AAiCA,SAAOf,EAAP;AACD;;SCvDegB,SACdhB,IACAiB;AAEAf,EAAAA,SAAS,CAAC;AACR,QAAIF,EAAJ,EAAQ;AACN,UAAMkB,UAAU,GAAGC,KAAK,CAACnB,EAAD,EAAKiB,EAAL,CAAxB;AACA,aAAO;AACLC,QAAAA,UAAU,CAACN,OAAX;AACD,OAFD;AAGD;AACF,GAPQ,EAON,CAACZ,EAAD,EAAKiB,EAAL,CAPM,CAAT;AAQD;;;;"}